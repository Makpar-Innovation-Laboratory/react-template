<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>frontend</title><meta name="description" content="Documentation for frontend"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">frontend</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> frontend</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#innolab-frontend" id="innolab-frontend" style="color: inherit; text-decoration: none;">
  <h1>InnoLab Frontend</h1>
</a>
<p>The Innovation Lab repository, <em>innolab-frontend</em>, is a <a href="https://en.wikipedia.org/wiki/Single-page_application">Single-Page-Application</a> created in <a href="https://angular.io/">Angular</a> and <a href="https://material.angular.io/">Angular Material</a>. The application can be configured to deploy to two different sets of infrastructure.</p>
<p>If the application is containerized through an <strong>nginx</strong> image, it can be deployed to an <strong>AWS ECS Fargate</strong> cluster. The <em>devops/buildspec.ecs.yml</em> and <em>devops/appspec.yml</em> contains the necessary steps for <strong>CodePipeline</strong> and <strong>CodeDeploy</strong> to build and deploy the container to the Innovation Lab cluster through a blue-green deployment.</p>
<p>If the application is transpiled into javascript webpacks directly, it can be deployed to an <strong>AWS S3 bucket</strong> hooked into a <strong>CloudFront distribution</strong>. The workflow for this deployment has been captured in two different pipelines, both a <strong>CodePipeline</strong> and a <strong>Bitbucket</strong> pipeline. The <em>devops/buildspec.s3-cloudfront.yml</em> contains the necessary steps for a <strong>CodePipeline</strong> deployment. The <em>devops/bitbuckets-pipeline.s3-cloudfront.yml</em> contains the necessary steps for a <strong>Bitbucket</strong> deployment.</p>

<a href="#quickstart" id="quickstart" style="color: inherit; text-decoration: none;">
  <h2>Quickstart</h2>
</a>

<a href="#local" id="local" style="color: inherit; text-decoration: none;">
  <h3>Local</h3>
</a>
<p>To get the <em>innolab-frontend</em> up and running through a local development server on your machine, follow these steps:</p>
<ol start="0">
<li>Clone the <em>innolab-frontend</em> repository and <code>cd</code> into it,</li>
</ol>
<pre><code class="language-shell"><span class="hl-0">git clone ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/innolab-frontend</span><br/><span class="hl-1">cd</span><span class="hl-0"> innolab-frontend</span>
</code></pre>
<ol>
<li>Install the <a href="https://nodejs.org/en/download/">NodeJS</a> dependencies in the <em>/frontend/package.json</em> through the Node package manager,</li>
</ol>
<pre><code class="language-shell"><span class="hl-1">cd</span><span class="hl-0"> frontend</span><br/><span class="hl-0">npm install</span>
</code></pre>
<ol start="3">
<li>Adjust the <em>/frontend/src/environment/environment.ts</em> file. If you do not have the backend server running, set the <code>mock</code> attribute to <code>true</code> in order to spoof authentication and service calls,</li>
</ol>
<pre><code class="language-javascript"><span class="hl-2">export</span><span class="hl-0"> </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">environment</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-5">host:</span><span class="hl-0"> </span><span class="hl-6">&#39;localhost:8000&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">mock:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">production:</span><span class="hl-0"> </span><span class="hl-3">false</span><br/><span class="hl-0">};</span>
</code></pre>
<p><strong>NOTE</strong>: If <code>mock==true</code>, then the <code>host</code> does not matter.</p>
<ol start="4">
<li>Start a local development server on <em>localhost:4200</em>,</li>
</ol>
<pre><code class="language-shell"><span class="hl-0">ng serve</span>
</code></pre>
<p><strong>NOTE</strong>: This command must be run from the same directory as the <em>package.json</em></p>

<a href="#container" id="container" style="color: inherit; text-decoration: none;">
  <h3>Container</h3>
</a>
<p>The app can be containerized through a multi-stage <a href="https://docs.docker.com/">Docker</a> image. It is first built on top of a <a href="https://nodejs.org/en/download/">NodeJS</a> image with the <code>ng build</code> command and the resulting artifacts copied over into an <a href="https://www.nginx.com/">nginx</a> image. </p>
<p>If the backend container is also running, the <strong>nginx</strong> container can be configured to proxy requests made on the <em>/api</em> path to the backend container, i.e. service calls made by the Angular app go back to their origination point and the proxy handles interfacing with the backend endpoints. This implementation hides the backend from the end user and provides better security. </p>
<p>The frontend container can also be configured to run by itself, without proxy serving requests on <em>/api</em>. In this case, the frontend service calls will not function unless they are pointed directly to the backend. It is <strong>not</strong> recommended to run the frontend application like this in production, but it is an easy way to test the frontend without running the full stack.</p>
<p>Before the image for either case is built, the <em>env/.env</em> file must be configured. Copy the sample file into a new file and adjust the variables.</p>
<pre><code class="language-shell"><span class="hl-0">cp ./env/.sample.env ./env/.env</span>
</code></pre>
<p>If running with an <strong>nginx</strong> proxy, the <strong>PROXY_HOST</strong> and <strong>PROXY_PORT</strong> variables should point to the address and port of the backend <em>container</em>. In other words, if the application is being run locally in a container through <code>docker-compose up</code>, <strong>PROXY_HOST</strong> should be set equal to the name of the backend service in the <code>docker-compose.yml</code>. Otherwise, point these variables to wherever the backend is running. If running in standalone mode, these variables can be ignored.</p>
<p><strong>ROOT_DIR</strong> and <strong>NGINX_PORT</strong> should not need changed from their defaults.</p>
<p><strong>Proxy Mode</strong></p>
<pre><code class="language-shell"><span class="hl-0">./scripts/docker/build-image --proxy</span>
</code></pre>
<p><strong>Standalone Mode</strong></p>
<pre><code class="language-shell"><span class="hl-0">./scripts/docker/build-image</span>
</code></pre>
<p>Once the image is build, it can be spun up directly through,</p>
<pre><code class="language-shell"><span class="hl-0">./scripts/docker/run-container</span>
</code></pre>
<p>Or spun up with the rest of the application through the master <code>docker-compose.yml</code> file,</p>
<pre><code class="language-shell"><span class="hl-7"># from the innolab-master repository</span><br/><span class="hl-0">docker-compose up</span>
</code></pre>
<p><strong>NOTE</strong>: If running through <code>docker-compose up</code>, ensure the image tag of the most recent build matches the image tag specified in the <code>docker-compose.yml</code>.</p>

<a href="#lazy-loading" id="lazy-loading" style="color: inherit; text-decoration: none;">
  <h2>Lazy Loading</h2>
</a>
<p>The <strong>Angular</strong> application is broken into modules for <a href="https://angular.io/guide/lazy-loading-ngmodules">lazy-loading</a>. This minimizes the size of the compiled artifacts and creates a faster user experience, since the application will only load what is needed, when it is needed.</p>

<a href="#appmodule" id="appmodule" style="color: inherit; text-decoration: none;">
  <h3>AppModule</h3>
</a>
<p>The main module, where application enters. This is the first module loaded; it is <em>always</em> loaded and <em>always</em> loaded first.</p>

<a href="#coremodule" id="coremodule" style="color: inherit; text-decoration: none;">
  <h3>CoreModule</h3>
</a>
<p>The module behind the authentication wall. After the user logins in, this module is loaded. </p>

<a href="#newsmodule" id="newsmodule" style="color: inherit; text-decoration: none;">
  <h3>NewsModule</h3>
</a>
<p>The module for interacting with and rendering the results of the backend API. This module is only loaded if service calls to the backend need to be made.</p>

<a href="#adminmodule" id="adminmodule" style="color: inherit; text-decoration: none;">
  <h3>AdminModule</h3>
</a>
<p>The module for administrative functions. This module is only loaded <em>if</em> the user is a <strong>Developer</strong> <em>and if</em> the user enters the administrative module of the application, through the <code>/admin</code> route.</p>

<a href="#sharedmodule" id="sharedmodule" style="color: inherit; text-decoration: none;">
  <h3>SharedModule</h3>
</a>
<p>This module stores imports that are required across modules. This is where the modules from <strong>Angular Core</strong> and <strong>Angular Material</strong> are imported. Components, services, etc., that are used in all other modules can also be found here.</p>

<a href="#componentconfig" id="componentconfig" style="color: inherit; text-decoration: none;">
  <h2>ComponentConfig</h2>
</a>
<p>The configuration <em>frontend/src/app/component/component.config.file</em> From <em>frontend/src/app/component/component.config.file</em> configures most aspects of the <strong>Angular</strong> application from one central location. In particular, the <code>routes</code> and <code>registry</code> attributes can be modified to display new routes along the navigation menu and add icons to the <strong>Angular Material</strong> icon registry, respectively. For example,</p>
<pre><code class="language-javascript"><span class="hl-2">export</span><span class="hl-0"> </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">componentConfig</span><span class="hl-0">: </span><span class="hl-8">Config</span><span class="hl-0"> = {</span><br/><span class="hl-0">    </span><span class="hl-5">dialogWidth:</span><span class="hl-0"> </span><span class="hl-6">&#39;50%&#39;</span><span class="hl-0">,  </span><span class="hl-5">dialogHeight:</span><span class="hl-0"> </span><span class="hl-6">&#39;25%&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">registerMsg:</span><span class="hl-0"> </span><span class="hl-6">&quot;xxx&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">editMsg:</span><span class="hl-0"> </span><span class="hl-6">&quot;xxx&quot;</span><span class="hl-0">, </span><span class="hl-5">editAlert:</span><span class="hl-0"> </span><span class="hl-6">&quot;xxx&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">createMsg:</span><span class="hl-0"> </span><span class="hl-6">&quot;xxxx&quot;</span><span class="hl-0">, </span><span class="hl-5">createAlert:</span><span class="hl-0"> </span><span class="hl-6">&quot;xxx&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">defaultMsg:</span><span class="hl-0"> </span><span class="hl-6">&quot;xxx&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">signOutMsg:</span><span class="hl-0"> </span><span class="hl-6">&#39;xxx&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">routes:</span><span class="hl-0"> [</span><br/><span class="hl-0">        { </span><span class="hl-5">route:</span><span class="hl-0"> </span><span class="hl-6">&#39;&#39;</span><span class="hl-0">, </span><span class="hl-5">title:</span><span class="hl-0"> </span><span class="hl-6">&#39;Home&#39;</span><span class="hl-0">, </span><span class="hl-5">tooltip:</span><span class="hl-0"> </span><span class="hl-6">&quot;Home Page&quot;</span><span class="hl-0"> },</span><br/><span class="hl-0">        { </span><span class="hl-5">route:</span><span class="hl-0"> </span><span class="hl-6">&#39;news&#39;</span><span class="hl-0">, </span><span class="hl-5">title:</span><span class="hl-0"> </span><span class="hl-6">&#39;News Feed&#39;</span><span class="hl-0">, </span><span class="hl-5">tooltip:</span><span class="hl-0"> </span><span class="hl-6">&quot;Latest News From The Feed&quot;</span><span class="hl-0"> },</span><br/><span class="hl-0">    ],</span><br/><span class="hl-0">    </span><span class="hl-5">registry:</span><span class="hl-0">[</span><br/><span class="hl-0">        { </span><span class="hl-5">icon:</span><span class="hl-0"> </span><span class="hl-6">&#39;facebook&#39;</span><span class="hl-0">, </span><span class="hl-5">location:</span><span class="hl-0"> </span><span class="hl-6">&#39;../assets/icons/logo-facebook.svg&#39;</span><span class="hl-0">},</span><br/><span class="hl-0">    ]</span><br/><span class="hl-0">}</span>
</code></pre>
<p>This configuration will add to the navigation menu a route button with text &quot;Home&quot; and a tooltip of &quot;Home Page&quot;, along a route button to <code>/news</code> with text &quot;News Feed&quot; and tooltip &quot;Latest News From The Feed&quot;. In addition, assuming there is a <code>logo-facebook.svg</code> in the <em>/frontend/src/assets/icons/</em> directory, the configuration will also add a <strong>MatIcon</strong> for a facebook, accessible as,</p>
<pre><code class="language-html"><span class="hl-9">&lt;</span><span class="hl-10">mat-icon</span><span class="hl-0"> </span><span class="hl-11">svgIcon</span><span class="hl-0">=</span><span class="hl-12">&quot;facebook&quot;</span><span class="hl-9">&gt;&lt;</span><span class="hl-10">mat-icon</span><span class="hl-9">&gt;</span>
</code></pre>
<p>This icon is added during the <strong>Angular</strong> application initialization in <em>/frontend/src/app/app.module.ts</em>.</p>
<p><strong>NOTE</strong>: the icon file path is relative to the <em>/frontend/src/app/</em> directory, since the <strong>MatIconRegistry</strong> is modified in the <strong>AppComponent</strong> initialization, when the <strong>Angular</strong> application bootstraps on the client browser for the first time.</p>

<a href="#html-editor" id="html-editor" style="color: inherit; text-decoration: none;">
  <h2>HTML Editor</h2>
</a>
<p>The <strong>AdminComponent</strong> uses the <em>@kolkov/angular-editor</em> for editing HTML content. Refer to <a href="https://www.npmjs.com/package/@kolkov/angular-editor">documentation</a> for example usage.</p>

<a href="#generate-docs" id="generate-docs" style="color: inherit; text-decoration: none;">
  <h2>Generate Docs</h2>
</a>
<p>Docstrings appends to the classes and methods will get auto-generated into HTML using <a href="https://typedoc.org/">Typedoc</a>. From the <em>/frontend/</em> directory, </p>
<pre><code class="language-shell"><span class="hl-0">npx typedoc</span>
</code></pre>
<p>See <a href="https://typedoc.org/guides/doccomments/">comment documentation</a> for a reference on documenting new <strong>Typescript</strong> code.</p>

<a href="#dependencies" id="dependencies" style="color: inherit; text-decoration: none;">
  <h2>Dependencies</h2>
</a>
<ul>
<li><a href="https://material.angular.io/">Angular Material</a></li>
<li><a href="https://www.npmjs.com/package/@kolkov/angular-editor">@kolkov/angular-editor</a></li>
<li><a href="https://www.npmjs.com/package/ngx-pagination">ngx-pagination</a></li>
<li><a href="https://www.npmjs.com/package/ngx-webstorage">ngx-webstorage</a></li>
<li><a href="https://www.npmjs.com/package/jwt-decode">jwt-decode</a></li>
<li><a href="https://typedoc.org/">Typedoc</a></li>
</ul>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/animations.html">animations</a></li><li class=" tsd-kind-module"><a href="modules/app_app_routing_module.html">app/app-<wbr/>routing.module</a></li><li class=" tsd-kind-module"><a href="modules/app_app_component.html">app/app.component</a></li><li class=" tsd-kind-module"><a href="modules/app_app_module.html">app/app.module</a></li><li class=" tsd-kind-module"><a href="modules/app_components_home_home_component.html">app/components/home/home.component</a></li><li class=" tsd-kind-module"><a href="modules/app_components_login_login_component.html">app/components/login/login.component</a></li><li class=" tsd-kind-module"><a href="modules/app_components_register_register_component.html">app/components/register/register.component</a></li><li class=" tsd-kind-module"><a href="modules/app_models_news.html">app/models/news</a></li><li class=" tsd-kind-module"><a href="modules/app_models_token.html">app/models/token</a></li><li class=" tsd-kind-module"><a href="modules/app_models_user.html">app/models/user</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_admin_admin_routing_module.html">app/modules/admin/admin-<wbr/>routing.module</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_admin_admin_module.html">app/modules/admin/admin.module</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_admin_components_admin_admin_component.html">app/modules/admin/components/admin/admin.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_admin_components_admin_editor_editor_component.html">app/modules/admin/components/admin/editor/editor.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_admin_components_admin_editor_editor_config.html">app/modules/admin/components/admin/editor/editor.config</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_admin_components_profile_profile_component.html">app/modules/admin/components/profile/profile.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_core_components_mission_mission_component.html">app/modules/core/components/mission/mission.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_core_components_projects_project_project_component.html">app/modules/core/components/projects/project/project.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_core_components_projects_projects_component.html">app/modules/core/components/projects/projects.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_core_components_team_team_component.html">app/modules/core/components/team/team.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_core_core_routing_module.html">app/modules/core/core-<wbr/>routing.module</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_core_core_module.html">app/modules/core/core.module</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_news_components_comments_comments_component.html">app/modules/news/components/comments/comments.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_news_components_comments_reply_reply_component.html">app/modules/news/components/comments/reply/reply.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_news_components_news_feed_feed_component.html">app/modules/news/components/news/feed/feed.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_news_components_news_news_component.html">app/modules/news/components/news/news.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_news_components_news_story_story_component.html">app/modules/news/components/news/story/story.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_news_news_routing_module.html">app/modules/news/news-<wbr/>routing.module</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_news_news_module.html">app/modules/news/news.module</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_news_services_comment_service.html">app/modules/news/services/comment.service</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_news_services_news_service.html">app/modules/news/services/news.service</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_shared_components_dialog_dialog_component.html">app/modules/shared/components/dialog/dialog.component</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_shared_guards_auth_guard.html">app/modules/shared/guards/auth.guard</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_shared_interceptors_auth_interceptor.html">app/modules/shared/interceptors/auth.interceptor</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_shared_material_module.html">app/modules/shared/material.module</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_shared_pipes_sanitize_pipe.html">app/modules/shared/pipes/sanitize.pipe</a></li><li class=" tsd-kind-module"><a href="modules/app_modules_shared_shared_module.html">app/modules/shared/shared.module</a></li><li class=" tsd-kind-module"><a href="modules/app_services_auth_service.html">app/services/auth.service</a></li><li class=" tsd-kind-module"><a href="modules/app_services_blog_service.html">app/services/blog.service</a></li><li class=" tsd-kind-module"><a href="modules/app_services_host_service.html">app/services/host.service</a></li><li class=" tsd-kind-module"><a href="modules/app_services_state_service.html">app/services/state.service</a></li><li class=" tsd-kind-module"><a href="modules/app_services_theme_service.html">app/services/theme.service</a></li><li class=" tsd-kind-module"><a href="modules/config.html">config</a></li><li class=" tsd-kind-module"><a href="modules/environments_environment.html">environments/environment</a></li><li class=" tsd-kind-module"><a href="modules/environments_environment_prod.html">environments/environment.prod</a></li><li class=" tsd-kind-module"><a href="modules/environments_environment_testing.html">environments/environment.testing</a></li><li class=" tsd-kind-module"><a href="modules/environments_mock.html">environments/mock</a></li><li class=" tsd-kind-module"><a href="modules/json_typing.html">json-<wbr/>typing</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>